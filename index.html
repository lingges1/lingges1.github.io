 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/index.html b/index.html
index 907632ac8586b4b2249b21d694c5605388e0d4da..26d2dd39951bdd086cdd70159b26d98e29755ce6 100644
--- a/index.html
+++ b/index.html
@@ -1,393 +1,241 @@
 <!DOCTYPE html>
 <html lang="en">
 <head>
   <meta charset="utf-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1" />
   <title>Lingges Shaswat – Aerospace Engineering Portfolio</title>
       <!-- Favicons -->
     <link rel="icon" href="/favicon.svg" type="image/svg+xml">
     <link rel="icon" href="/favicon-32.png" sizes="32x32" type="image/png">
     <link rel="icon" href="/favicon-16.png" sizes="16x16" type="image/png">
     <link rel="apple-touch-icon" href="/apple-touch-icon.png">
 
   <meta name="description" content="Portfolio of an aspiring aerospace engineer: projects, reports, skills, and contact." />
   <style>
-    html {
-  scroll-behavior: smooth;
-}
+    /* =============================================================
+       GLOBAL STYLESHEET
+       Organized into themed blocks for easier scanning + editing.
+       ============================================================= */
+
+    /* ---------- Base + Theme Tokens ---------- */
+    html { scroll-behavior: smooth; }
 
     :root {
-      --bg: #0b0f17;       /* deep navy */
-      --card: #121826;     /* slate */
-      --ink: #e6edf6;      /* off-white */
-      --muted: #a8b3c7;    /* muted text */
-      --accent: #7aa2ff;   /* cool blue */
-      --accent-2: #b6f09c; /* lime tint */
+      --bg: #0b0f17;
+      --card: #121826;
+      --ink: #e6edf6;
+      --muted: #a8b3c7;
+      --accent: #7aa2ff;
+      --accent-2: #b6f09c;
       --ring: rgba(122,162,255,0.35);
       --radius: 18px;
     }
 
     * { box-sizing: border-box; }
-    html, body { height: 100%; }
+    html,
+    body { height: 100%; }
+
     body {
-      margin: 0;   padding-top: 20px; /* ADD THIS LINE */
- font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
-      background: radial-gradient(1200px 600px at 10% 0%, rgba(122,162,255,0.08), transparent 60%),
-                  radial-gradient(800px 600px at 90% 10%, rgba(182,240,156,0.08), transparent 60%),
-                  var(--bg);
-      color: var(--ink); line-height: 1.6;
+      margin: 0;
+      padding-top: 20px;
+      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
+      background:
+        radial-gradient(1200px 600px at 10% 0%, rgba(122,162,255,0.08), transparent 60%),
+        radial-gradient(800px 600px at 90% 10%, rgba(182,240,156,0.08), transparent 60%),
+        var(--bg);
+      color: var(--ink);
+      line-height: 1.6;
     }
 
     a { color: var(--accent); text-decoration: none; }
     a:hover { text-decoration: underline; }
 
     .container { max-width: 1100px; margin: 0 auto; padding: 24px; }
 
-    /* Header */
+    /* ---------- Header / Navigation ---------- */
     header {
       position: fixed;
-width: 100%;
-top: 0;
-left: 0;
- backdrop-filter: blur(8px);
+      width: 100%;
+      top: 0;
+      left: 0;
+      backdrop-filter: blur(8px);
       background: linear-gradient(to bottom, rgba(11,15,23,0.85), rgba(11,15,23,0.6));
       border-bottom: 1px solid rgba(122,162,255,0.12);
       z-index: 10;
     }
+
     .nav { display: flex; align-items: center; justify-content: space-between; gap: 16px; }
-    .brand {
-  display: flex;
-  align-items: center;
-  gap: 12px;
-  font-weight: 700;
-}
-
-.brand-logo {
-  width: 34px;
-  height: 34px;
-  border-radius: 8px;
-  flex-shrink: 0;
-}
-
-.brand-text {
-  display: flex;
-  flex-direction: column;
-  line-height: 1.1;
-}
-
-.brand-name {
-  font-size: 16px;
-}
-
-.brand-meta {
-  font-size: 12px;
-  color: var(--muted);
-  font-weight: 500;
-}
-
-    
+    .brand { display: flex; align-items: center; gap: 12px; font-weight: 700; }
+    .brand-logo { width: 34px; height: 34px; border-radius: 8px; flex-shrink: 0; }
+    .brand-text { display: flex; flex-direction: column; line-height: 1.1; }
+    .brand-name { font-size: 16px; }
+    .brand-meta { font-size: 12px; color: var(--muted); font-weight: 500; }
     .nav a { margin-left: 16px; font-weight: 600; }
 
-    /* Hero */
+    /* ---------- Hero + Cards ---------- */
     .hero { display: grid; grid-template-columns: 1.2fr 0.8fr; gap: 28px; align-items: center; padding: 64px 0 16px; }
     .hero h1 { font-size: clamp(32px, 6vw, 56px); line-height: 1.05; margin: 0 0 12px; }
     .hero p { color: var(--muted); margin: 0 0 24px; }
     .tag { display: inline-flex; align-items: center; gap: 8px; padding: 8px 12px; border-radius: 999px; background: rgba(122,162,255,0.12); color: var(--ink); border: 1px solid rgba(122,162,255,0.25); font-weight: 600; }
     .cta { display: inline-flex; gap: 12px; }
     .btn { display: inline-flex; align-items: center; gap: 8px; padding: 12px 16px; border-radius: 12px; border: 1px solid rgba(122,162,255,0.35); background: linear-gradient(160deg, rgba(122,162,255,0.16), rgba(182,240,156,0.12)); color: var(--ink); font-weight: 700; }
     .btn:hover { box-shadow: 0 0 0 3px var(--ring); text-decoration: none; }
     .ghost { background: transparent; }
 
     .card {
       background: linear-gradient(180deg, rgba(18,24,38,0.95), rgba(18,24,38,0.8));
       border: 1px solid rgba(122,162,255,0.18);
       border-radius: var(--radius);
       box-shadow: 0 10px 30px rgba(0,0,0,0.25);
     }
 
     .panel { padding: 20px; border-radius: 16px; background: rgba(255,255,255,0.02); border: 1px dashed rgba(122,162,255,0.25); }
-
     .panel ul { margin: 10px 0 0; padding-left: 18px; }
 
-    /* Sections */
+    /* ---------- Section / Grid Utilities ---------- */
     section { padding: 48px 0; }
     h2 { font-size: clamp(22px, 3vw, 30px); margin: 0 0 18px; }
     .grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: 18px; }
 
-    /* About */
+    /* ---------- About ---------- */
     .about p { color: var(--muted); }
 
-    /* Projects */
+    /* ---------- Project Grid ---------- */
     .project { grid-column: span 12; display: grid; grid-template-columns: 1fr; gap: 12px; padding: 18px; }
     .project h3 { margin: 0; font-size: 20px; }
     .meta { color: var(--muted); font-size: 14px; }
     .badges { display: flex; flex-wrap: wrap; gap: 8px; }
     .badge { padding: 6px 10px; border-radius: 999px; background: rgba(255,255,255,0.04); border: 1px solid rgba(122,162,255,0.22); font-size: 12px; color: var(--ink); }
 
-    /* Skills */
+    /* ---------- Skills ---------- */
     .skills { display: flex; flex-wrap: wrap; gap: 10px; }
     .chip { padding: 10px 12px; border-radius: 999px; background: rgba(122,162,255,0.12); border: 1px solid rgba(122,162,255,0.25); }
 
-    /* Footer */
+    /* ---------- Footer ---------- */
     footer { padding: 40px 0; color: var(--muted); border-top: 1px solid rgba(122,162,255,0.12); }
 
-    /* Responsive */
+    .footer-logo-wrap { text-align: center; }
+    .footer-logo { width: 40px; height: 40px; margin-bottom: 12px; }
+
+    /* ---------- Responsive Layout ---------- */
     @media (max-width: 880px) {
       .hero { grid-template-columns: 1fr; }
     }
 
-    /* --- Project media grid + lightbox --- */
-.media-grid {
-  display: grid;
-  grid-template-columns: repeat(12, 1fr);
-  gap: 10px;
-  margin-top: 6px;
-}
-.media {
-  grid-column: span 4;              /* 3-up on desktop */
-  background: rgba(255,255,255,0.03);
-  border: 1px solid rgba(122,162,255,0.18);
-  border-radius: 14px;
-  overflow: hidden;
-  cursor: zoom-in;
-  transition: transform .15s ease, box-shadow .15s ease;
-}
-.media:hover { transform: translateY(-2px); box-shadow: 0 8px 18px rgba(0,0,0,.25); }
-.media img {
-  display: block;
-  width: 100%;
-  aspect-ratio: 16 / 9;
-  height: auto;
-  object-fit: cover;                /* crops nicely */
-}
-.media figcaption {
-  padding: 8px 10px;
-  font-size: 12px;
-  color: var(--muted);
-  border-top: 1px solid rgba(122,162,255,0.12);
-}
-
-/* 2-up on tablets, 1-up on phones */
-@media (max-width: 880px) { .media { grid-column: span 6; } }
-@media (max-width: 560px){ .media { grid-column: span 12; } }
-
-/* Lightbox */
-#lightbox {
-  position: fixed; inset: 0; display: none; place-items: center;
-  background: rgba(0,0,0,.6); backdrop-filter: blur(2px);
-  z-index: 1000;
-}
-#lightbox.open { display: grid; }
-#lightbox img {
-  max-width: min(92vw, 1200px);
-  max-height: 86vh;
-  border-radius: 16px;
-  border: 1px solid rgba(122,162,255,0.35);
-  box-shadow: 0 20px 60px rgba(0,0,0,.5);
-}
-.lightbox-ui {
-  position: fixed; inset: 0; pointer-events: none;
-  display: flex; align-items: center; justify-content: space-between;
-  padding: 24px;
-}
-.lightbox-btn {
-  pointer-events: auto;
-  border: 1px solid rgba(122,162,255,0.35);
-  background: rgba(18,24,38,.85);
-  color: var(--ink);
-  border-radius: 999px;
-  padding: 10px 14px;
-  font-weight: 700;
-}
-.lightbox-close {
-  position: fixed; top: 16px; right: 16px;
-  pointer-events: auto;
-  border: 1px solid rgba(122,162,255,0.35);
-  background: rgba(18,24,38,.85);
-  color: var(--ink);
-  border-radius: 999px;
-  padding: 10px 14px;
-  font-weight: 800;
-}
-    /* --- New button styling for report/methodology links --- */
-.project-links {
-  display: flex;
-  gap: 12px;
-  margin-top: 8px;
-}
-
-.btn-sm {
-  display: inline-flex;
-  align-items: center;
-  padding: 8px 12px;
-  border-radius: 10px;
-  border: 1px solid rgba(122,162,255,0.35);
-  background: rgba(122,162,255,0.1);
-  color: var(--ink);
-  font-size: 14px;
-  font-weight: 600;
-}
-
-.btn-sm.ghost {
-  background: transparent;
-  border-color: rgba(182,240,156,0.3);
-}
-
-.btn-sm:hover {
-  box-shadow: 0 0 0 2px var(--ring);
-  text-decoration: none;
-}
-
-    /* --- Role modal --- */
-#roleModal {
-  position: fixed; inset: 0;
-  display: none; place-items: center;
-  background: rgba(0,0,0,.6); backdrop-filter: blur(2px);
-  z-index: 1100;
-}
-#roleModal.open { display: grid; }
-
-.role-card {
-  width: min(680px, 92vw);
-  background: linear-gradient(180deg, rgba(18,24,38,0.98), rgba(18,24,38,0.9));
-  border: 1px solid rgba(122,162,255,0.28);
-  border-radius: var(--radius);
-  box-shadow: 0 20px 60px rgba(0,0,0,.5);
-  padding: 18px 18px 20px;
-  color: var(--ink);
-}
-
-.role-header {
-  display: flex; align-items: center; justify-content: space-between;
-  gap: 10px; margin-bottom: 10px;
-}
-.role-title {
-  font-size: 20px; margin: 0;
-}
-
-.role-close {
-  border: 1px solid rgba(122,162,255,0.35);
-  background: rgba(18,24,38,.85);
-  color: var(--ink);
-  border-radius: 999px;
-  padding: 8px 12px;
-  font-weight: 800;
-  cursor: pointer;
-}
-
-.role-body ul { margin: 8px 0 0; padding-left: 18px; color: var(--muted); }
-.role-body li + li { margin-top: 6px; }
-
-    /* --- Twinkling stars field --- */
-.stars-field {
-  position: fixed; inset: 0;
-  pointer-events: none;           /* never block clicks */
-  z-index: 0;                     /* sits behind your content */
-  overflow: hidden;
-}
-
-.star {
-  position: absolute;
-  width: var(--size, 3px);
-  height: var(--size, 3px);
-  border-radius: 50%;
-  background: radial-gradient(
-    circle,
-    rgba(255,255,255,1),
-    rgba(255,255,255,0.85) 40%,
-    rgba(122,162,255,0.8) 75%
-  );
-  opacity: 1;
-  transform: translate(-50%, -50%) scale(1);
-  filter: drop-shadow(0 0 10px rgba(182,240,156,0.8));
-
-  /* Two animations:
-     1) star-life: fade in, hold, fade out (then we remove it)
-     2) star-twinkle: subtle brightness pulse while alive
-  */
-  animation:
-    star-life var(--life, 6s) ease-in-out var(--delay, 0s) forwards,
-    star-twinkle var(--twinkle, 1.2s) ease-in-out var(--delay, 0s) infinite;
-}
-
-@keyframes star-life {
-  0%   { opacity: 0; transform: translate(-50%, -50%) scale(0.9); }
-  10%  { opacity: 1; transform: translate(-50%, -50%) scale(1); }
-  80%  { opacity: 1; }
-  100% { opacity: 0; transform: translate(-50%, -50%) scale(0.9); }
-}
-
-@keyframes star-twinkle {
-  0%, 100% { filter: brightness(1.5) drop-shadow(0 0 6px rgba(182,240,156,0.45)); }
-  50%      { filter: brightness(3.2) drop-shadow(0 0 10px rgba(182,240,156,0.8)); }
-}
-
-/* Respect user preference */
-@media (prefers-reduced-motion: reduce) {
-  .star { animation: none !important; opacity: 0.7; }
-}
-
-    .footer-logo-wrap {
-  text-align: center;
-}
-
-.footer-logo {
-  width: 40px;
-  height: 40px;
-  margin-bottom: 12px;
-}
+    /* ---------- Project Media Grid + Lightbox ---------- */
+    .media-grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: 10px; margin-top: 6px; }
+    .media { grid-column: span 4; background: rgba(255,255,255,0.03); border: 1px solid rgba(122,162,255,0.18); border-radius: 14px; overflow: hidden; cursor: zoom-in; transition: transform .15s ease, box-shadow .15s ease; }
+    .media:hover { transform: translateY(-2px); box-shadow: 0 8px 18px rgba(0,0,0,.25); }
+    .media img { display: block; width: 100%; aspect-ratio: 16 / 9; height: auto; object-fit: cover; }
+    .media figcaption { padding: 8px 10px; font-size: 12px; color: var(--muted); border-top: 1px solid rgba(122,162,255,0.12); }
+
+    @media (max-width: 880px) { .media { grid-column: span 6; } }
+    @media (max-width: 560px) { .media { grid-column: span 12; } }
+
+    /* ---------- Lightbox Shell ---------- */
+    #lightbox { position: fixed; inset: 0; display: none; place-items: center; background: rgba(0,0,0,.6); backdrop-filter: blur(2px); z-index: 1000; }
+    #lightbox.open { display: grid; }
+    #lightbox img { max-width: min(92vw, 1200px); max-height: 86vh; border-radius: 16px; border: 1px solid rgba(122,162,255,0.35); box-shadow: 0 20px 60px rgba(0,0,0,.5); }
+    .lightbox-ui { position: fixed; inset: 0; pointer-events: none; display: flex; align-items: center; justify-content: space-between; padding: 24px; }
+    .lightbox-btn { pointer-events: auto; border: 1px solid rgba(122,162,255,0.35); background: rgba(18,24,38,.85); color: var(--ink); border-radius: 999px; padding: 10px 14px; font-weight: 700; }
+    .lightbox-close { position: fixed; top: 16px; right: 16px; pointer-events: auto; border: 1px solid rgba(122,162,255,0.35); background: rgba(18,24,38,.85); color: var(--ink); border-radius: 999px; padding: 10px 14px; font-weight: 800; }
+
+    /* ---------- Report / Methodology Buttons ---------- */
+    .project-links { display: flex; gap: 12px; margin-top: 8px; }
+    .btn-sm { display: inline-flex; align-items: center; padding: 8px 12px; border-radius: 10px; border: 1px solid rgba(122,162,255,0.35); background: rgba(122,162,255,0.1); color: var(--ink); font-size: 14px; font-weight: 600; }
+    .btn-sm.ghost { background: transparent; border-color: rgba(182,240,156,0.3); }
+    .btn-sm:hover { box-shadow: 0 0 0 2px var(--ring); text-decoration: none; }
+
+    /* ---------- Role Modal ---------- */
+    #roleModal { position: fixed; inset: 0; display: none; place-items: center; background: rgba(0,0,0,.6); backdrop-filter: blur(2px); z-index: 1100; }
+    #roleModal.open { display: grid; }
+    .role-card { width: min(680px, 92vw); background: linear-gradient(180deg, rgba(18,24,38,0.98), rgba(18,24,38,0.9)); border: 1px solid rgba(122,162,255,0.28); border-radius: var(--radius); box-shadow: 0 20px 60px rgba(0,0,0,.5); padding: 18px 18px 20px; color: var(--ink); }
+    .role-header { display: flex; align-items: center; justify-content: space-between; gap: 10px; margin-bottom: 10px; }
+    .role-title { font-size: 20px; margin: 0; }
+    .role-close { border: 1px solid rgba(122,162,255,0.35); background: rgba(18,24,38,.85); color: var(--ink); border-radius: 999px; padding: 8px 12px; font-weight: 800; cursor: pointer; }
+    .role-body ul { margin: 8px 0 0; padding-left: 18px; color: var(--muted); }
+    .role-body li + li { margin-top: 6px; }
+
+    /* ---------- Twinkling Stars Field ---------- */
+    .stars-field { position: fixed; inset: 0; pointer-events: none; z-index: 0; overflow: hidden; }
+    .star {
+      position: absolute;
+      width: var(--size, 3px);
+      height: var(--size, 3px);
+      border-radius: 50%;
+      background: radial-gradient(circle, rgba(255,255,255,1), rgba(255,255,255,0.85) 40%, rgba(122,162,255,0.8) 75%);
+      opacity: 1;
+      transform: translate(-50%, -50%) scale(1);
+      filter: drop-shadow(0 0 10px rgba(182,240,156,0.8));
+      animation:
+        star-life var(--life, 6s) ease-in-out var(--delay, 0s) forwards,
+        star-twinkle var(--twinkle, 1.2s) ease-in-out var(--delay, 0s) infinite;
+    }
 
+    @keyframes star-life {
+      0%   { opacity: 0; transform: translate(-50%, -50%) scale(0.9); }
+      10%  { opacity: 1; transform: translate(-50%, -50%) scale(1); }
+      80%  { opacity: 1; }
+      100% { opacity: 0; transform: translate(-50%, -50%) scale(0.9); }
+    }
+
+    @keyframes star-twinkle {
+      0%, 100% { filter: brightness(1.5) drop-shadow(0 0 6px rgba(182,240,156,0.45)); }
+      50%      { filter: brightness(3.2) drop-shadow(0 0 10px rgba(182,240,156,0.8)); }
+    }
 
+    @media (prefers-reduced-motion: reduce) {
+      .star { animation: none !important; opacity: 0.7; }
+    }
   </style>
 </head>
 <body id="top">
- <header>
-  <div id="starsField" class="stars-field" aria-hidden="true"></div>
+  <!-- Site Header + Floating Navigation -->
+  <header>
+    <div id="starsField" class="stars-field" aria-hidden="true"></div>
 
-  <div class="container nav">
+    <div class="container nav">
 
     <a href="#top" class="brand">
       <img src="favicon.svg" alt="LS1 logo" class="brand-logo">
       <div class="brand-text">
         <span class="brand-name">Lingges Shaswat</span>
         <span class="brand-meta">Aerospace Engineering • University of Bristol</span>
       </div>
     </a>
 
-    <nav>
-      <a href="#about">About</a>
-      <a href="#projects">Projects</a>
-      <a href="#contact">Contact</a>
-    </nav>
-
-  </div>
-</header>
-
+      <nav>
+        <a href="#about">About</a>
+        <a href="#projects">Projects</a>
+        <a href="#contact">Contact</a>
+      </nav>
 
-  
+    </div>
+  </header>
 
+  <!-- Main content wrapper -->
   <main class="container">
     <!-- Hero -->
     <section class="hero">
       <div>
         <span class="tag">Aerospace • Engineering • Design • Analysis</span>
         <h1>Lingges Shaswat's Engineering Portfolio</h1>
         <p>A showcase of my curiosity, problem-solving mindset, and the projects that helped me grow as both an engineer and analyst.</p>
         <div class="cta">
           <a class="btn" href="#projects">View Projects</a>
           <a class="btn ghost" href="#contact">Contact Me</a>
         </div>
       </div>
       <div class="card panel">
         <strong>Quick Links</strong>
         <ul>
           <li><a href="#projects">Projects</a></li>
           <li><a href="Lingges Shaswat - Aerospace Engineering Graduate CV.pdf" target="_blank" rel="noreferrer noopener">Download CV</a></li>
           <li><a href="https://linkedin.com/in/lingges-shaswat" target="_blank" rel="noreferrer noopener">LinkedIn</a></li>
           <li><a href="https://github.com/lingges1" target="_blank" rel="noreferrer noopener">GitHub</a></li>
           <li><a href="mailto:lshaswat@icloud.com">Email</a></li>
         </ul>
       </div>
     </section>
 
    <!-- About -->
@@ -732,209 +580,230 @@ left: 0;
     </div>
   </footer>
 <!-- My Role Modal -->
 <div id="roleModal" aria-hidden="true" role="dialog" aria-modal="true">
   <div class="role-card" role="document">
     <div class="role-header">
       <h3 class="role-title" id="roleTitle">My Role</h3>
       <button class="role-close" aria-label="Close">✕</button>
     </div>
     <div class="role-body" id="roleBody"></div>
   </div>
 </div>
 
   <!-- Lightbox -->
 <div id="lightbox" aria-hidden="true">
   <button class="lightbox-close" aria-label="Close">✕</button>
   <img src="" alt="" />
   <div class="lightbox-ui">
     <button class="lightbox-btn prev" aria-label="Previous image">◀</button>
     <button class="lightbox-btn next" aria-label="Next image">▶</button>
   </div>
 </div>
 
   
   <script>
+    // Auto-update the copyright year so the footer stays current.
     document.getElementById('y').textContent = new Date().getFullYear();
   </script>
+
   <script>
-  (function () {
-    const overlay = document.getElementById('lightbox');
-    const imgEl   = overlay.querySelector('img');
-    const btnPrev = overlay.querySelector('.prev');
-    const btnNext = overlay.querySelector('.next');
-    const btnClose= overlay.querySelector('.lightbox-close');
-
-    let currentGallery = [];
-    let currentIndex   = 0;
-
-    // Build galleries from each .media-grid
-    document.querySelectorAll('.media-grid').forEach(grid => {
-      const items = [...grid.querySelectorAll('figure.media img')].map(img => ({
-        src: img.getAttribute('src'),
-        alt: img.getAttribute('alt') || ''
-      }));
-      // Click to open
-      grid.addEventListener('click', e => {
-        const img = e.target.closest('img');
-        if (!img) return;
-        const allImgs = [...grid.querySelectorAll('img')];
-        currentGallery = items;
-        currentIndex = Math.max(0, allImgs.indexOf(img));
-        openLightbox();
-        show(currentIndex);
+    // -------------------------------------------------------------
+    // Project Media Lightbox: handles gallery creation + navigation.
+    // -------------------------------------------------------------
+    (function () {
+      const overlay = document.getElementById('lightbox');
+      const imgEl   = overlay.querySelector('img');
+      const btnPrev = overlay.querySelector('.prev');
+      const btnNext = overlay.querySelector('.next');
+      const btnClose= overlay.querySelector('.lightbox-close');
+
+      let currentGallery = [];
+      let currentIndex   = 0;
+
+      // Build galleries from each .media-grid
+      document.querySelectorAll('.media-grid').forEach(grid => {
+        const items = [...grid.querySelectorAll('figure.media img')].map(img => ({
+          src: img.getAttribute('src'),
+          alt: img.getAttribute('alt') || ''
+        }));
+
+        // Click to open
+        grid.addEventListener('click', e => {
+          const img = e.target.closest('img');
+          if (!img) return;
+          const allImgs = [...grid.querySelectorAll('img')];
+          currentGallery = items;
+          currentIndex = Math.max(0, allImgs.indexOf(img));
+          openLightbox();
+          show(currentIndex);
+        });
       });
-    });
 
-    function openLightbox() {
-      overlay.classList.add('open');
-      overlay.setAttribute('aria-hidden', 'false');
-      document.body.style.overflow = 'hidden';
-      window.addEventListener('keydown', onKey);
-    }
-    function closeLightbox() {
-      overlay.classList.remove('open');
-      overlay.setAttribute('aria-hidden', 'true');
-      document.body.style.overflow = '';
-      window.removeEventListener('keydown', onKey);
-    }
-    function show(i) {
-      if (!currentGallery.length) return;
-      currentIndex = (i + currentGallery.length) % currentGallery.length;
-      const { src, alt } = currentGallery[currentIndex];
-      imgEl.src = src;
-      imgEl.alt = alt;
-    }
-    function next() { show(currentIndex + 1); }
-    function prev() { show(currentIndex - 1); }
-    function onKey(e) {
-      if (e.key === 'Escape') closeLightbox();
-      if (e.key === 'ArrowRight') next();
-      if (e.key === 'ArrowLeft') prev();
-    }
+      function openLightbox() {
+        overlay.classList.add('open');
+        overlay.setAttribute('aria-hidden', 'false');
+        document.body.style.overflow = 'hidden';
+        window.addEventListener('keydown', onKey);
+      }
 
-    btnNext.addEventListener('click', next);
-    btnPrev.addEventListener('click', prev);
-    btnClose.addEventListener('click', closeLightbox);
-    overlay.addEventListener('click', e => {
-      // click outside image closes
-      if (e.target === overlay) closeLightbox();
-    });
-  })();
-</script>
-<script>
-  (function () {
-    const modal = document.getElementById('roleModal');
-    const body  = document.getElementById('roleBody');
-    const btnClose = modal.querySelector('.role-close');
-    const title = document.getElementById('roleTitle');
-
-    let lastFocused = null;
-
-    function openModal(templateId, heading = 'My Role') {
-      const tpl = document.getElementById(templateId);
-      if (!tpl) return;
-      title.textContent = heading;
-      body.innerHTML = '';
-      body.appendChild(tpl.content.cloneNode(true));
-
-      lastFocused = document.activeElement;
-      modal.classList.add('open');
-      modal.setAttribute('aria-hidden', 'false');
-      document.body.style.overflow = 'hidden';
-      btnClose.focus();
-      window.addEventListener('keydown', onKey);
-      modal.addEventListener('click', onBackdrop);
-    }
+      function closeLightbox() {
+        overlay.classList.remove('open');
+        overlay.setAttribute('aria-hidden', 'true');
+        document.body.style.overflow = '';
+        window.removeEventListener('keydown', onKey);
+      }
 
-    function closeModal() {
-      modal.classList.remove('open');
-      modal.setAttribute('aria-hidden', 'true');
-      document.body.style.overflow = '';
-      window.removeEventListener('keydown', onKey);
-      modal.removeEventListener('click', onBackdrop);
-      if (lastFocused && typeof lastFocused.focus === 'function') lastFocused.focus();
-    }
+      function show(i) {
+        if (!currentGallery.length) return;
+        currentIndex = (i + currentGallery.length) % currentGallery.length;
+        const { src, alt } = currentGallery[currentIndex];
+        imgEl.src = src;
+        imgEl.alt = alt;
+      }
 
-    function onKey(e) {
-      if (e.key === 'Escape') closeModal();
-      // simple focus trap: keep focus inside modal
-      if (e.key === 'Tab') {
-        const focusables = modal.querySelectorAll('button, a[href], [tabindex]:not([tabindex="-1"])');
-        const list = Array.from(focusables);
-        if (!list.length) return;
-        const i = list.indexOf(document.activeElement);
-        if (e.shiftKey && (i <= 0)) { e.preventDefault(); list[list.length - 1].focus(); }
-        else if (!e.shiftKey && (i === list.length - 1)) { e.preventDefault(); list[0].focus(); }
+      const next = () => show(currentIndex + 1);
+      const prev = () => show(currentIndex - 1);
+
+      function onKey(e) {
+        if (e.key === 'Escape') closeLightbox();
+        if (e.key === 'ArrowRight') next();
+        if (e.key === 'ArrowLeft') prev();
       }
-    }
-    function onBackdrop(e) {
-      if (e.target === modal) closeModal();
-    }
 
-    // Hook up all "My Role" buttons
-    document.querySelectorAll('.open-role').forEach(btn => {
-      btn.addEventListener('click', e => {
-        e.preventDefault();
-        const id = btn.getAttribute('data-role');
-        const heading = btn.getAttribute('data-role-title') || 'My Role';
-        openModal(id, heading);
+      btnNext.addEventListener('click', next);
+      btnPrev.addEventListener('click', prev);
+      btnClose.addEventListener('click', closeLightbox);
+      overlay.addEventListener('click', e => {
+        // Click outside the image closes the lightbox
+        if (e.target === overlay) closeLightbox();
       });
-    });
-
-    btnClose.addEventListener('click', closeModal);
-  })();
-</script>
-<script>
-  (function () {
-    const field = document.getElementById('starsField');
-    if (!field) return;
-
-    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)');
-
-    function spawnStar() {
-      if (prefersReduced.matches) return; // be nice to users who prefer less motion
-
-      const star = document.createElement('div');
-      star.className = 'star';
-
-      // random position (0–100vw, 0–70vh so it stays mostly near the top)
-      const left = Math.random() * 100;
-      const top  = Math.random() * 70;
-
-      // brighter, larger, longer-lived stars
-      const size    = (Math.random() * 3 + 2).toFixed(1) + 'px';     // 2–5 px
-      const lifeS   = (8 + Math.random() * 6).toFixed(2) + 's';      // 8–14 s
-      const twinkle = (0.8 + Math.random() * 1.4).toFixed(2) + 's';  // 0.8–2.2 s
-      const delayS  = (Math.random() * 1.2).toFixed(2) + 's';        // 0–1.2 s
-
-      // apply styles via CSS variables
-      star.style.left = left + 'vw';
-      star.style.top  = top + 'vh';
-      star.style.setProperty('--size', size);
-      star.style.setProperty('--life', lifeS);
-      star.style.setProperty('--twinkle', twinkle);
-      star.style.setProperty('--delay', delayS);
-
-      // occasionally make a star extra bright
-      if (Math.random() < 0.12) {
-        star.style.filter = "drop-shadow(0 0 14px rgba(255,255,255,0.9))";
+    })();
+  </script>
+
+  <script>
+    // -------------------------------------------------------------
+    // "My Role" Modal: clones template content into a11y-friendly
+    // modal, complete with focus trapping and escape handling.
+    // -------------------------------------------------------------
+    (function () {
+      const modal = document.getElementById('roleModal');
+      const body  = document.getElementById('roleBody');
+      const btnClose = modal.querySelector('.role-close');
+      const title = document.getElementById('roleTitle');
+
+      let lastFocused = null;
+
+      function openModal(templateId, heading = 'My Role') {
+        const tpl = document.getElementById(templateId);
+        if (!tpl) return;
+        title.textContent = heading;
+        body.innerHTML = '';
+        body.appendChild(tpl.content.cloneNode(true));
+
+        lastFocused = document.activeElement;
+        modal.classList.add('open');
+        modal.setAttribute('aria-hidden', 'false');
+        document.body.style.overflow = 'hidden';
+        btnClose.focus();
+        window.addEventListener('keydown', onKey);
+        modal.addEventListener('click', onBackdrop);
       }
 
-      field.appendChild(star);
+      function closeModal() {
+        modal.classList.remove('open');
+        modal.setAttribute('aria-hidden', 'true');
+        document.body.style.overflow = '';
+        window.removeEventListener('keydown', onKey);
+        modal.removeEventListener('click', onBackdrop);
+        if (lastFocused && typeof lastFocused.focus === 'function') lastFocused.focus();
+      }
 
-      // remove after it finishes its life
-      const totalMs = (parseFloat(lifeS) + parseFloat(delayS)) * 1000;
-      setTimeout(() => star.remove(), totalMs + 150);
-    }
+      function onKey(e) {
+        if (e.key === 'Escape') closeModal();
+        // Simple focus trap: keep focus within the modal
+        if (e.key === 'Tab') {
+          const focusables = modal.querySelectorAll('button, a[href], [tabindex]:not([tabindex="-1"])');
+          const list = Array.from(focusables);
+          if (!list.length) return;
+          const i = list.indexOf(document.activeElement);
+          if (e.shiftKey && (i <= 0)) { e.preventDefault(); list[list.length - 1].focus(); }
+          else if (!e.shiftKey && (i === list.length - 1)) { e.preventDefault(); list[0].focus(); }
+        }
+      }
+
+      function onBackdrop(e) {
+        if (e.target === modal) closeModal();
+      }
 
-    // spawn stars frequently (more stars = denser field)
-    const interval = setInterval(spawnStar, 120); // lower = more frequent; try 80 if you want even more
-    // kickstart a bunch immediately
-    for (let i = 0; i < 18; i++) spawnStar();
+      // Hook up all "My Role" buttons
+      document.querySelectorAll('.open-role').forEach(btn => {
+        btn.addEventListener('click', e => {
+          e.preventDefault();
+          const id = btn.getAttribute('data-role');
+          const heading = btn.getAttribute('data-role-title') || 'My Role';
+          openModal(id, heading);
+        });
+      });
+
+      btnClose.addEventListener('click', closeModal);
+    })();
+  </script>
 
-    window.addEventListener('beforeunload', () => clearInterval(interval));
-  })();
-</script>
+  <script>
+    // -------------------------------------------------------------
+    // Decorative star field: spawns, animates, and cleans up stars
+    // while respecting the user's reduced-motion preference.
+    // -------------------------------------------------------------
+    (function () {
+      const field = document.getElementById('starsField');
+      if (!field) return;
+
+      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)');
+
+      function spawnStar() {
+        if (prefersReduced.matches) return; // be nice to users who prefer less motion
+
+        const star = document.createElement('div');
+        star.className = 'star';
+
+        // Random position (0–100vw, 0–70vh so it stays mostly near the top)
+        const left = Math.random() * 100;
+        const top  = Math.random() * 70;
+
+        // Brighter, larger, longer-lived stars
+        const size    = (Math.random() * 3 + 2).toFixed(1) + 'px';     // 2–5 px
+        const lifeS   = (8 + Math.random() * 6).toFixed(2) + 's';      // 8–14 s
+        const twinkle = (0.8 + Math.random() * 1.4).toFixed(2) + 's';  // 0.8–2.2 s
+        const delayS  = (Math.random() * 1.2).toFixed(2) + 's';        // 0–1.2 s
+
+        // Apply styles via CSS variables
+        star.style.left = left + 'vw';
+        star.style.top  = top + 'vh';
+        star.style.setProperty('--size', size);
+        star.style.setProperty('--life', lifeS);
+        star.style.setProperty('--twinkle', twinkle);
+        star.style.setProperty('--delay', delayS);
+
+        // Occasionally make a star extra bright
+        if (Math.random() < 0.12) {
+          star.style.filter = 'drop-shadow(0 0 14px rgba(255,255,255,0.9))';
+        }
+
+        field.appendChild(star);
+
+        // Remove after it finishes its life
+        const totalMs = (parseFloat(lifeS) + parseFloat(delayS)) * 1000;
+        setTimeout(() => star.remove(), totalMs + 150);
+      }
+
+      // Spawn stars frequently (more stars = denser field)
+      const interval = setInterval(spawnStar, 120); // lower = more frequent; try 80 if you want even more
+      // Kickstart a bunch immediately
+      for (let i = 0; i < 18; i++) spawnStar();
+
+      window.addEventListener('beforeunload', () => clearInterval(interval));
+    })();
+  </script>
 
 </body>
 </html>
 
EOF
)
